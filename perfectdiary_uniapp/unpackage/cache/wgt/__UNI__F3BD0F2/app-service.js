if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((n=>t.resolve(e()).then((()=>n))),(n=>t.resolve(e()).then((()=>{throw n}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";function t(e,t,...n){uni.__log__?uni.__log__(e,t,...n):console[e].apply(console,[...n,t])}__definePage("pages/index/index",((e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n})({data:()=>({needToDo:"",toDoList:[]}),onLoad(){uni.request({url:"http://perfetcdiary.bdbaq.cn/getter",method:"GET",success:e=>{this.toDoList=e.data,t("log","at pages/index/index.vue:35",this.toDoList)}})},methods:{addFun(){let e=(new Date).getTime();e=e.toString();let t={isdelete:"0",text:"",timestamp:"",username:"2962283762"};t.timestamp=e,t.text=this.needToDo,this.toDoList.push(t),uni.request({url:"http://perfetcdiary.bdbaq.cn/update",method:"GET",data:t,success:e=>{uni.showToast({title:"添加成功",icon:"success"})}})},deleteFun(e){this.toDoList[e].isdelete="1",uni.request({url:"http://perfetcdiary.bdbaq.cn/deleteer",data:this.toDoList[e],success:e=>{uni.showToast({title:"删除成功"}),t("log","at pages/index/index.vue:74",e.statusCode)}}),this.toDoList.splice(e,e+1)}}},[["render",function(t,n,o,r,a,i){return e.openBlock(),e.createElementBlock("view",{class:"content"},[e.createElementVNode("view",{class:"contaner"},[e.createElementVNode("view",{class:"addArea"},[e.withDirectives(e.createElementVNode("input",{type:"text",name:"",id:"","onUpdate:modelValue":n[0]||(n[0]=e=>a.needToDo=e),"confirm-type":"done",onConfirm:n[1]||(n[1]=(...e)=>i.addFun&&i.addFun(...e))},null,544),[[e.vModelText,a.needToDo]]),e.createElementVNode("button",{onClick:n[2]||(n[2]=(...e)=>i.addFun&&i.addFun(...e)),onKeydown:n[3]||(n[3]=e.withKeys(((...e)=>i.addFun&&i.addFun(...e)),["enter"]))},"+",32)]),e.createElementVNode("view",{class:"dataArea"},[e.createElementVNode("ul",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.toDoList,((t,n)=>(e.openBlock(),e.createElementBlock("li",null,[e.createElementVNode("span",null,e.toDisplayString(t.text),1),e.createElementVNode("button",{onClick:e=>i.deleteFun(n)},"x",8,["onClick"])])))),256))])])])])}]]));const n={onLaunch:function(){t("log","at App.vue:4","App Launch")},onShow:function(){t("log","at App.vue:7","App Show")},onHide:function(){t("log","at App.vue:10","App Hide")}};const{app:o,Vuex:r,Pinia:a}={app:e.createVueApp(n)};uni.Vuex=r,uni.Pinia=a,o.provide("__globalStyles",__uniConfig.styles),o._component.mpType="app",o._component.render=()=>{},o.mount("#app")}(Vue);
